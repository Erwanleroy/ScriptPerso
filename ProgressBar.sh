#!/bin/bash

#__________________________________________________________________________
#
#       Nom     : ProgressBar.sh
#       But     : Barre de progression 
#       Auteur  : erwanlr56@gmail.com
#       Date    : 06/02/2025 - V1 Init
#_______________________________________________________
#
#_________________________
#
#       Fonctions
#_________________________
#
affiche(){
        clear
		echo -e "\e[36m
		  _____           _        _ _       _   _                                                             
		 |_   _|         | |      | | |     | | (_)                                                            
		   | |  _ __  ___| |_ __ _| | | __ _| |_ _  ___  _ __     ___ _ __     ___ ___  _   _ _ __ ___         
		   | | | '_ \/ __| __/ _\` | | |/ _\` | __| |/ _ \| '_ \   / _ \ '_ \   / __/ _ \| | | | '__/ __|        
		  _| |_| | | \__ \ || (_| | | | (_| | |_| | (_) | | | | |  __/ | | | | (_| (_) | |_| | |  \__ \  _ _ _ 
		 |_____|_| |_|___/\__\__,_|_|_|\__,_|\__|_|\___/|_| |_|  \___|_| |_|  \___\___/ \__,_|_|  |___/ (_|_|_)
		                                                                                                       
		\e[0m"
        # Affiche la barre de progression :)
        echo -ne "\e[33m ______________________________________________________________________________________________________
|                                                                                                      |
| "
        tailleBarre=100
        avancement=$((tailleVariante * 100 / tailleMax))
        tailleReste=$((tailleBarre - avancement))
        echo -ne "\e[42m"
        for ((i = 1; i <= avancement; i++)); do
            echo -n " "
        done
        echo -ne "\e[0m\e[33m"
        for ((i = 1; i <= tailleReste; i++)); do
            echo -n " "
        done
        echo -e " |
|______________________________________________________________________________________________________|
        \e[0m"

        echo -en " ______________________________________________________________________\n|\n| tail -10 $LOGFILE\n|______________________________________________________________________\n|
"
        tail -10 $LOGFILE | sed 's/^/| /'
}

#_________________________
#
#       Main
#_________________________
#
[ "$#" -ne 2 ] && { echo -e "Usage :\n\t$0 \$tailleVariante \$tailleMax"; exit 1 }
[ $1 -gt $2 ] && { echo -e "Usage :\n\t$0 \$tailleVariante \$tailleMax"; exit 1 }

